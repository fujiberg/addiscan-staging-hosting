(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{vuQK:function(n,t,i){"use strict";i.r(t),i.d(t,"SearchPageModule",(function(){return k}));var o=i("ofXK"),e=i("3Pt+"),r=i("TEn/"),c=i("tyNb"),a=i("mrSG"),b=i("lJxs"),s=i("fXoL"),l=i("o0su"),u=i("p6Hd"),d=i("sYmb");const h=function(){return["/admin"]};function f(n,t){1&n&&(s.Mb(0,"ion-fab",15),s.Mb(1,"ion-fab-button",16),s.Ib(2,"ion-icon",17),s.Lb(),s.Lb()),2&n&&s.bc("routerLink",s.dc(1,h))}function p(n,t){if(1&n&&s.Ib(0,"img",20),2&n){const n=s.Wb().$implicit;s.bc("src",n.image.sq40,s.jc)}}const g=function(n){return["/product",n]};function m(n,t){if(1&n&&(s.Mb(0,"ion-item",5),s.Mb(1,"ion-avatar",18),s.lc(2,p,1,1,"img",19),s.Lb(),s.Mb(3,"ion-label"),s.Mb(4,"h2"),s.nc(5),s.Lb(),s.Mb(6,"h3"),s.nc(7),s.Lb(),s.Lb(),s.Lb()),2&n){const n=t.$implicit;s.bc("routerLink",s.ec(4,g,n.id)),s.xb(2),s.bc("ngIf",!!n.image),s.xb(3),s.oc(n.name),s.xb(2),s.oc(n.brand)}}function L(n,t){1&n&&(s.Mb(0,"ion-item"),s.Mb(1,"div",21),s.nc(2,"Nothing found that matches your"),s.Lb(),s.Lb())}function M(n,t){1&n&&s.Ib(0,"ion-spinner")}const I=function(){return["/profile"]},x=function(){return["/scan"]},y=[{path:"",component:(()=>{class n{constructor(n,t,i){this.productsApiService=i,this.data=[],this.id$=n.paramMap.pipe(Object(b.a)(n=>"search"===n.get("id")?null:n.get("id"))),this.userInfo$=t.userInfo$}get searchQuery(){return this.$searchQuery}set searchQuery(n){this.$searchQuery=n,this.data=[],this.noData=!1,this.loadData()}loadData(n){return Object(a.a)(this,void 0,void 0,(function*(){const t=this.data,i=null==n?void 0:n.target;this.productsApiService.productsSearchProducts({q:this.searchQuery,skip:t.length,take:25}).subscribe(n=>{t.push(...n.items),this.data===t&&0===this.data.length&&(this.noData=!1),i&&(i.disabled=n.end&&this.data===t,i.complete())})}))}ngOnInit(){this.ionViewWillEnter()}ionViewWillEnter(){this.searchQuery=""}}return n.\u0275fac=function(t){return new(t||n)(s.Hb(c.a),s.Hb(l.b),s.Hb(u.c))},n.\u0275cmp=s.Bb({type:n,selectors:[["app-search"]],decls:21,vars:13,consts:[["translucent",""],["type","text","color","light","placeholder","Search text","clearInput","",3,"ngModel","placeholder","ngModelChange"],["slot","end","size","small",3,"routerLink"],["icon","person"],["slot","fixed","vertical","bottom","horizontal","center"],[3,"routerLink"],["icon","barcode-outline"],["slot","fixed","vertical","bottom","horizontal","end",3,"routerLink",4,"ngIf"],["fixed",""],[3,"routerLink",4,"ngFor","ngForOf"],[4,"ngIf"],["threshold","100px",3,"ionInfinite"],["infiniteScrollElement",""],["loadingSpinner","bubbles","loadingText","Loading more data..."],["loading",""],["slot","fixed","vertical","bottom","horizontal","end",3,"routerLink"],["size","small"],["icon","cog-sharp"],["slot","start"],[3,"src",4,"ngIf"],[3,"src"],[1,"nodata"]],template:function(n,t){var i;1&n&&(s.Mb(0,"ion-header",0),s.Mb(1,"ion-toolbar"),s.Mb(2,"ion-searchbar",1),s.Ub("ngModelChange",(function(n){return t.searchQuery=n})),s.Xb(3,"translate"),s.Lb(),s.Mb(4,"ion-fab-button",2),s.Ib(5,"ion-icon",3),s.Lb(),s.Lb(),s.Lb(),s.Mb(6,"ion-content"),s.Mb(7,"ion-fab",4),s.Mb(8,"ion-fab-button",5),s.Ib(9,"ion-icon",6),s.Lb(),s.Lb(),s.lc(10,f,3,2,"ion-fab",7),s.Xb(11,"async"),s.Mb(12,"ion-grid",8),s.Mb(13,"ion-list"),s.lc(14,m,8,6,"ion-item",9),s.lc(15,L,3,0,"ion-item",10),s.Lb(),s.Mb(16,"ion-infinite-scroll",11,12),s.Ub("ionInfinite",(function(n){return t.loadData(n)})),s.Ib(18,"ion-infinite-scroll-content",13),s.Lb(),s.lc(19,M,1,0,"ng-template",null,14,s.mc),s.Lb(),s.Lb()),2&n&&(s.xb(2),s.cc("placeholder",s.Yb(3,7,"food.search.placeholder")),s.bc("ngModel",t.searchQuery),s.xb(2),s.bc("routerLink",s.dc(11,I)),s.xb(4),s.bc("routerLink",s.dc(12,x)),s.xb(2),s.bc("ngIf",null==(i=s.Yb(11,9,t.userInfo$))?null:i.isAdmin),s.xb(4),s.bc("ngForOf",t.data),s.xb(1),s.bc("ngIf",t.noData))},directives:[r.l,r.E,r.B,r.L,e.d,e.e,r.j,r.J,c.h,r.m,r.h,r.i,o.k,r.k,r.v,o.j,r.o,r.p,r.r,r.b,r.u,r.C],pipes:[d.d,o.b],styles:["ion-searchbar[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}"]}),n})()}];let v=(()=>{class n{}return n.\u0275mod=s.Fb({type:n}),n.\u0275inj=s.Eb({factory:function(t){return new(t||n)},imports:[[c.i.forChild(y)],c.i]}),n})(),k=(()=>{class n{}return n.\u0275mod=s.Fb({type:n}),n.\u0275inj=s.Eb({factory:function(t){return new(t||n)},imports:[[o.c,e.a,r.F,v,d.c]]}),n})()}}]);
//# sourceMappingURL=15-es2015.39c85118e02aab76a241.js.map