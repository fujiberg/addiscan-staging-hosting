!function(){function n(n){return function(n){if(Array.isArray(n))return t(n)}(n)||function(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||function(n,e){if(!n)return;if("string"==typeof n)return t(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(n,e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function r(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{vuQK:function(t,i,o){"use strict";o.r(i),o.d(i,"SearchPageModule",(function(){return E}));var a=o("ofXK"),c=o("3Pt+"),b=o("TEn/"),u=o("tyNb"),l=o("mrSG"),s=o("lJxs"),f=o("fXoL"),d=o("o0su"),h=o("p6Hd"),p=o("sYmb"),m=function(){return["/admin"]};function g(n,t){1&n&&(f.Mb(0,"ion-fab",15),f.Mb(1,"ion-fab-button",16),f.Ib(2,"ion-icon",17),f.Lb(),f.Lb()),2&n&&f.bc("routerLink",f.dc(1,m))}function y(n,t){if(1&n&&f.Ib(0,"img",20),2&n){var e=f.Wb().$implicit;f.bc("src",e.image.sq40,f.jc)}}var v=function(n){return["/product",n]};function L(n,t){if(1&n&&(f.Mb(0,"ion-item",5),f.Mb(1,"ion-avatar",18),f.lc(2,y,1,1,"img",19),f.Lb(),f.Mb(3,"ion-label"),f.Mb(4,"h2"),f.nc(5),f.Lb(),f.Mb(6,"h3"),f.nc(7),f.Lb(),f.Lb(),f.Lb()),2&n){var e=t.$implicit;f.bc("routerLink",f.ec(4,v,e.id)),f.xb(2),f.bc("ngIf",!!e.image),f.xb(3),f.oc(e.name),f.xb(2),f.oc(e.brand)}}function M(n,t){1&n&&(f.Mb(0,"ion-item"),f.Mb(1,"div",21),f.nc(2,"Nothing found that matches your"),f.Lb(),f.Lb())}function I(n,t){1&n&&f.Ib(0,"ion-spinner")}var k,w,x,S=function(){return["/profile"]},j=function(){return["/scan"]},A=[{path:"",component:(k=function(){function t(n,r,i){e(this,t),this.productsApiService=i,this.data=[],this.id$=n.paramMap.pipe(Object(s.a)((function(n){return"search"===n.get("id")?null:n.get("id")}))),this.userInfo$=r.userInfo$}var i,o,a;return i=t,(o=[{key:"loadData",value:function(t){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var r,i,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=this.data,i=null==t?void 0:t.target,this.productsApiService.productsSearchProducts({q:this.searchQuery,skip:r.length,take:25}).subscribe((function(t){r.push.apply(r,n(t.items)),o.data===r&&0===o.data.length&&(o.noData=!1),i&&(i.disabled=t.end&&o.data===r,i.complete())}));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"ngOnInit",value:function(){this.ionViewWillEnter()}},{key:"ionViewWillEnter",value:function(){this.searchQuery=""}},{key:"searchQuery",get:function(){return this.$searchQuery},set:function(n){this.$searchQuery=n,this.data=[],this.noData=!1,this.loadData()}}])&&r(i.prototype,o),a&&r(i,a),t}(),k.\u0275fac=function(n){return new(n||k)(f.Hb(u.a),f.Hb(d.b),f.Hb(h.c))},k.\u0275cmp=f.Bb({type:k,selectors:[["app-search"]],decls:21,vars:13,consts:[["translucent",""],["type","text","color","light","placeholder","Search text","clearInput","",3,"ngModel","placeholder","ngModelChange"],["slot","end","size","small",3,"routerLink"],["icon","person"],["slot","fixed","vertical","bottom","horizontal","center"],[3,"routerLink"],["icon","barcode-outline"],["slot","fixed","vertical","bottom","horizontal","end",3,"routerLink",4,"ngIf"],["fixed",""],[3,"routerLink",4,"ngFor","ngForOf"],[4,"ngIf"],["threshold","100px",3,"ionInfinite"],["infiniteScrollElement",""],["loadingSpinner","bubbles","loadingText","Loading more data..."],["loading",""],["slot","fixed","vertical","bottom","horizontal","end",3,"routerLink"],["size","small"],["icon","cog-sharp"],["slot","start"],[3,"src",4,"ngIf"],[3,"src"],[1,"nodata"]],template:function(n,t){var e;1&n&&(f.Mb(0,"ion-header",0),f.Mb(1,"ion-toolbar"),f.Mb(2,"ion-searchbar",1),f.Ub("ngModelChange",(function(n){return t.searchQuery=n})),f.Xb(3,"translate"),f.Lb(),f.Mb(4,"ion-fab-button",2),f.Ib(5,"ion-icon",3),f.Lb(),f.Lb(),f.Lb(),f.Mb(6,"ion-content"),f.Mb(7,"ion-fab",4),f.Mb(8,"ion-fab-button",5),f.Ib(9,"ion-icon",6),f.Lb(),f.Lb(),f.lc(10,g,3,2,"ion-fab",7),f.Xb(11,"async"),f.Mb(12,"ion-grid",8),f.Mb(13,"ion-list"),f.lc(14,L,8,6,"ion-item",9),f.lc(15,M,3,0,"ion-item",10),f.Lb(),f.Mb(16,"ion-infinite-scroll",11,12),f.Ub("ionInfinite",(function(n){return t.loadData(n)})),f.Ib(18,"ion-infinite-scroll-content",13),f.Lb(),f.lc(19,I,1,0,"ng-template",null,14,f.mc),f.Lb(),f.Lb()),2&n&&(f.xb(2),f.cc("placeholder",f.Yb(3,7,"food.search.placeholder")),f.bc("ngModel",t.searchQuery),f.xb(2),f.bc("routerLink",f.dc(11,S)),f.xb(4),f.bc("routerLink",f.dc(12,j)),f.xb(2),f.bc("ngIf",null==(e=f.Yb(11,9,t.userInfo$))?null:e.isAdmin),f.xb(4),f.bc("ngForOf",t.data),f.xb(1),f.bc("ngIf",t.noData))},directives:[b.l,b.E,b.B,b.L,c.d,c.e,b.j,b.J,u.h,b.m,b.h,b.i,a.k,b.k,b.v,a.j,b.o,b.p,b.r,b.b,b.u,b.C],pipes:[p.d,a.b],styles:["ion-searchbar[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}"]}),k)}],O=((x=function n(){e(this,n)}).\u0275mod=f.Fb({type:x}),x.\u0275inj=f.Eb({factory:function(n){return new(n||x)},imports:[[u.i.forChild(A)],u.i]}),x),E=((w=function n(){e(this,n)}).\u0275mod=f.Fb({type:w}),w.\u0275inj=f.Eb({factory:function(n){return new(n||w)},imports:[[a.c,c.a,b.F,O,p.c]]}),w)}}])}();
//# sourceMappingURL=15-es5.39c85118e02aab76a241.js.map