!function(){function n(n){return function(n){if(Array.isArray(n))return t(n)}(n)||function(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||function(n,e){if(!n)return;if("string"==typeof n)return t(n,e);var i=Object.prototype.toString.call(n).slice(8,-1);"Object"===i&&n.constructor&&(i=n.constructor.name);if("Map"===i||"Set"===i)return Array.from(n);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(n,e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function i(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{vuQK:function(t,o,r){"use strict";r.r(o),r.d(o,"SearchPageModule",(function(){return E}));var a=r("ofXK"),c=r("3Pt+"),b=r("TEn/"),u=r("tyNb"),l=r("lJxs"),s=r("fXoL"),f=r("o0su"),d=r("p6Hd"),h=r("sYmb"),p=function(){return["/admin"]};function m(n,t){1&n&&(s.Mb(0,"ion-fab",15),s.Mb(1,"ion-fab-button",16),s.Ib(2,"ion-icon",17),s.Lb(),s.Lb()),2&n&&s.bc("routerLink",s.dc(1,p))}function g(n,t){if(1&n&&s.Ib(0,"img",21),2&n){var e=s.Wb().$implicit;s.bc("src",e.image.sq40,s.jc)}}var y=function(n){return["/product",n]};function L(n,t){if(1&n&&(s.Mb(0,"ion-item",18),s.Mb(1,"ion-avatar",19),s.lc(2,g,1,1,"img",20),s.Lb(),s.Mb(3,"ion-label"),s.Mb(4,"h2"),s.nc(5),s.Lb(),s.Mb(6,"h3"),s.nc(7),s.Lb(),s.Lb(),s.Lb()),2&n){var e=t.$implicit;s.bc("routerLink",s.ec(4,y,e.id)),s.xb(2),s.bc("ngIf",!!e.image),s.xb(3),s.oc(e.name),s.xb(2),s.oc(e.brand)}}function v(n,t){1&n&&(s.Mb(0,"ion-item"),s.Mb(1,"div",22),s.nc(2,"Nothing found that matches your"),s.Lb(),s.Lb())}function M(n,t){1&n&&s.Ib(0,"ion-spinner")}var I,k,x,w=function(){return["/profile"]},S=function(){return["/scan"]},j=[{path:"",component:(I=function(){function t(n,i,o){e(this,t),this.productsApiService=o,this.data=[],this.id$=n.paramMap.pipe(Object(l.a)((function(n){return"search"===n.get("id")?null:n.get("id")}))),this.userInfo$=i.userInfo$}var o,r,a;return o=t,(r=[{key:"loadData",value:function(t){var e=this,i=this.data,o=null==t?void 0:t.target;this.productsApiService.productsSearchProducts({q:this.searchQuery,skip:i.length,take:25}).subscribe((function(t){i.push.apply(i,n(t.items)),e.data===i&&0===e.data.length&&(e.noData=!1),o&&(o.disabled=t.end&&e.data===i,o.complete())}))}},{key:"ngOnInit",value:function(){this.ionViewWillEnter()}},{key:"ionViewWillEnter",value:function(){this.searchQuery=""}},{key:"searchQuery",get:function(){return this.$searchQuery},set:function(n){this.$searchQuery=n,this.data=[],this.noData=!1,this.loadData()}}])&&i(o.prototype,r),a&&i(o,a),t}(),I.\u0275fac=function(n){return new(n||I)(s.Hb(u.a),s.Hb(f.b),s.Hb(d.c))},I.\u0275cmp=s.Bb({type:I,selectors:[["app-search"]],decls:21,vars:13,consts:[["translucent",""],["type","text","color","light","placeholder","Search text","clearInput","",3,"ngModel","placeholder","ngModelChange"],["slot","end","size","small",3,"routerLink"],["icon","person"],["slot","fixed","vertical","bottom","horizontal","center"],["replaceUrl","",3,"routerLink"],["icon","barcode-outline"],["slot","fixed","vertical","bottom","horizontal","end",3,"routerLink",4,"ngIf"],["fixed",""],[3,"routerLink",4,"ngFor","ngForOf"],[4,"ngIf"],["threshold","100px",3,"ionInfinite"],["infiniteScrollElement",""],["loadingSpinner","bubbles","loadingText","Loading more data..."],["loading",""],["slot","fixed","vertical","bottom","horizontal","end",3,"routerLink"],["size","small"],["icon","cog-sharp"],[3,"routerLink"],["slot","start"],[3,"src",4,"ngIf"],[3,"src"],[1,"nodata"]],template:function(n,t){var e;1&n&&(s.Mb(0,"ion-header",0),s.Mb(1,"ion-toolbar"),s.Mb(2,"ion-searchbar",1),s.Ub("ngModelChange",(function(n){return t.searchQuery=n})),s.Xb(3,"translate"),s.Lb(),s.Mb(4,"ion-fab-button",2),s.Ib(5,"ion-icon",3),s.Lb(),s.Lb(),s.Lb(),s.Mb(6,"ion-content"),s.Mb(7,"ion-fab",4),s.Mb(8,"ion-fab-button",5),s.Ib(9,"ion-icon",6),s.Lb(),s.Lb(),s.lc(10,m,3,2,"ion-fab",7),s.Xb(11,"async"),s.Mb(12,"ion-grid",8),s.Mb(13,"ion-list"),s.lc(14,L,8,6,"ion-item",9),s.lc(15,v,3,0,"ion-item",10),s.Lb(),s.Mb(16,"ion-infinite-scroll",11,12),s.Ub("ionInfinite",(function(n){return t.loadData(n)})),s.Ib(18,"ion-infinite-scroll-content",13),s.Lb(),s.lc(19,M,1,0,"ng-template",null,14,s.mc),s.Lb(),s.Lb()),2&n&&(s.xb(2),s.cc("placeholder",s.Yb(3,7,"food.search.placeholder")),s.bc("ngModel",t.searchQuery),s.xb(2),s.bc("routerLink",s.dc(11,w)),s.xb(4),s.bc("routerLink",s.dc(12,S)),s.xb(2),s.bc("ngIf",null==(e=s.Yb(11,9,t.userInfo$))?null:e.isAdmin),s.xb(4),s.bc("ngForOf",t.data),s.xb(1),s.bc("ngIf",t.noData))},directives:[b.l,b.E,b.B,b.L,c.d,c.e,b.j,b.J,u.h,b.m,b.h,b.i,a.k,b.k,b.v,a.j,b.o,b.p,b.r,b.b,b.u,b.C],pipes:[h.d,a.b],styles:["ion-searchbar[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}"]}),I)}],A=((x=function n(){e(this,n)}).\u0275mod=s.Fb({type:x}),x.\u0275inj=s.Eb({factory:function(n){return new(n||x)},imports:[[u.i.forChild(j)],u.i]}),x),E=((k=function n(){e(this,n)}).\u0275mod=s.Fb({type:k}),k.\u0275inj=s.Eb({factory:function(n){return new(n||k)},imports:[[a.c,c.a,b.F,A,h.c]]}),k)}}])}();
//# sourceMappingURL=16-es5.ff13a758e6432b2aa8c2.js.map