(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{vuQK:function(n,t,i){"use strict";i.r(t),i.d(t,"SearchPageModule",(function(){return k}));var o=i("ofXK"),e=i("3Pt+"),r=i("TEn/"),c=i("tyNb"),a=i("lJxs"),b=i("fXoL"),s=i("o0su"),l=i("p6Hd"),u=i("sYmb");const d=function(){return["/admin"]};function h(n,t){1&n&&(b.Mb(0,"ion-fab",15),b.Mb(1,"ion-fab-button",16),b.Ib(2,"ion-icon",17),b.Lb(),b.Lb()),2&n&&b.bc("routerLink",b.dc(1,d))}function f(n,t){if(1&n&&b.Ib(0,"img",21),2&n){const n=b.Wb().$implicit;b.bc("src",n.image.sq40,b.jc)}}const p=function(n){return["/product",n]};function g(n,t){if(1&n&&(b.Mb(0,"ion-item",18),b.Mb(1,"ion-avatar",19),b.lc(2,f,1,1,"img",20),b.Lb(),b.Mb(3,"ion-label"),b.Mb(4,"h2"),b.nc(5),b.Lb(),b.Mb(6,"h3"),b.nc(7),b.Lb(),b.Lb(),b.Lb()),2&n){const n=t.$implicit;b.bc("routerLink",b.ec(4,p,n.id)),b.xb(2),b.bc("ngIf",!!n.image),b.xb(3),b.oc(n.name),b.xb(2),b.oc(n.brand)}}function m(n,t){1&n&&(b.Mb(0,"ion-item"),b.Mb(1,"div",22),b.nc(2,"Nothing found that matches your"),b.Lb(),b.Lb())}function L(n,t){1&n&&b.Ib(0,"ion-spinner")}const M=function(){return["/profile"]},I=function(){return["/scan"]},x=[{path:"",component:(()=>{class n{constructor(n,t,i){this.productsApiService=i,this.data=[],this.id$=n.paramMap.pipe(Object(a.a)(n=>"search"===n.get("id")?null:n.get("id"))),this.userInfo$=t.userInfo$}get searchQuery(){return this.$searchQuery}set searchQuery(n){this.$searchQuery=n,this.data=[],this.noData=!1,this.loadData()}loadData(n){const t=this.data,i=null==n?void 0:n.target;this.productsApiService.productsSearchProducts({q:this.searchQuery,skip:t.length,take:25}).subscribe(n=>{t.push(...n.items),this.data===t&&0===this.data.length&&(this.noData=!1),i&&(i.disabled=n.end&&this.data===t,i.complete())})}ngOnInit(){this.ionViewWillEnter()}ionViewWillEnter(){this.searchQuery=""}}return n.\u0275fac=function(t){return new(t||n)(b.Hb(c.a),b.Hb(s.b),b.Hb(l.c))},n.\u0275cmp=b.Bb({type:n,selectors:[["app-search"]],decls:21,vars:13,consts:[["translucent",""],["type","text","color","light","placeholder","Search text","clearInput","",3,"ngModel","placeholder","ngModelChange"],["slot","end","size","small",3,"routerLink"],["icon","person"],["slot","fixed","vertical","bottom","horizontal","center"],["replaceUrl","",3,"routerLink"],["icon","barcode-outline"],["slot","fixed","vertical","bottom","horizontal","end",3,"routerLink",4,"ngIf"],["fixed",""],[3,"routerLink",4,"ngFor","ngForOf"],[4,"ngIf"],["threshold","100px",3,"ionInfinite"],["infiniteScrollElement",""],["loadingSpinner","bubbles","loadingText","Loading more data..."],["loading",""],["slot","fixed","vertical","bottom","horizontal","end",3,"routerLink"],["size","small"],["icon","cog-sharp"],[3,"routerLink"],["slot","start"],[3,"src",4,"ngIf"],[3,"src"],[1,"nodata"]],template:function(n,t){var i;1&n&&(b.Mb(0,"ion-header",0),b.Mb(1,"ion-toolbar"),b.Mb(2,"ion-searchbar",1),b.Ub("ngModelChange",(function(n){return t.searchQuery=n})),b.Xb(3,"translate"),b.Lb(),b.Mb(4,"ion-fab-button",2),b.Ib(5,"ion-icon",3),b.Lb(),b.Lb(),b.Lb(),b.Mb(6,"ion-content"),b.Mb(7,"ion-fab",4),b.Mb(8,"ion-fab-button",5),b.Ib(9,"ion-icon",6),b.Lb(),b.Lb(),b.lc(10,h,3,2,"ion-fab",7),b.Xb(11,"async"),b.Mb(12,"ion-grid",8),b.Mb(13,"ion-list"),b.lc(14,g,8,6,"ion-item",9),b.lc(15,m,3,0,"ion-item",10),b.Lb(),b.Mb(16,"ion-infinite-scroll",11,12),b.Ub("ionInfinite",(function(n){return t.loadData(n)})),b.Ib(18,"ion-infinite-scroll-content",13),b.Lb(),b.lc(19,L,1,0,"ng-template",null,14,b.mc),b.Lb(),b.Lb()),2&n&&(b.xb(2),b.cc("placeholder",b.Yb(3,7,"food.search.placeholder")),b.bc("ngModel",t.searchQuery),b.xb(2),b.bc("routerLink",b.dc(11,M)),b.xb(4),b.bc("routerLink",b.dc(12,I)),b.xb(2),b.bc("ngIf",null==(i=b.Yb(11,9,t.userInfo$))?null:i.isAdmin),b.xb(4),b.bc("ngForOf",t.data),b.xb(1),b.bc("ngIf",t.noData))},directives:[r.l,r.E,r.B,r.L,e.d,e.e,r.j,r.J,c.h,r.m,r.h,r.i,o.k,r.k,r.v,o.j,r.o,r.p,r.r,r.b,r.u,r.C],pipes:[u.d,o.b],styles:["ion-searchbar[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}"]}),n})()}];let y=(()=>{class n{}return n.\u0275mod=b.Fb({type:n}),n.\u0275inj=b.Eb({factory:function(t){return new(t||n)},imports:[[c.i.forChild(x)],c.i]}),n})(),k=(()=>{class n{}return n.\u0275mod=b.Fb({type:n}),n.\u0275inj=b.Eb({factory:function(t){return new(t||n)},imports:[[o.c,e.a,r.F,y,u.c]]}),n})()}}]);
//# sourceMappingURL=16-es2015.ff13a758e6432b2aa8c2.js.map